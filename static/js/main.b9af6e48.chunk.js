(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(e,t,n){e.exports=n(37)},32:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(11),o=n.n(c),u=n(2),l=n(22),i=n(5),s=n(8),f=n(21),d=function(){return{type:"TOGGLE_LOADING"}},m=function(e){return{type:"GET_TODOS",todos:e}},p=function(e){return{type:"SET_FILTER",filterType:e}},b=function(e){return e.todos},O=function(e){return e.loading},E=function(e){return e.filterType},y={todos:[],loading:!1,filterType:""},j=Object(s.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:!e.loading});case"GET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:t.todos});case"SET_FILTER":return Object(i.a)(Object(i.a)({},e),{},{filterType:t.filterType});default:return e}}),Object(f.composeWithDevTools)()),v=(n(32),n(6)),h=n.n(v),T=n(10),g=function(){var e=Object(T.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(T.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("https://mate.academy/students-api/todos");case 2:return t=e.sent,e.next=5,g("https://mate.academy/students-api/users");case 5:return n=e.sent,e.abrupt("return",t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{user:n.find((function(t){return t.id===e.userId}))})})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=[{title:"Sort by title"},{title:"Sort by completed"},{title:"Sort by name"}],x=(n(34),{filter:p}),G=Object(u.b)((function(e){return{filterType:E(e)}}),x)((function(){var e=Object(u.c)();return a.a.createElement(a.a.Fragment,null,S.map((function(t){return a.a.createElement("button",{className:"button",onClick:function(){return function(t){var n=p(t);e(n)}(t.title)},key:t.title,type:"button"},t.title)})))})),k={load:d,getTodosFromServer:m},w=Object(u.b)((function(e){return{todos:b(e),loading:O(e)}}),k)((function(e){var t=e.todos,n=e.loading,r=Object(u.c)(),c=function(){var e=Object(T.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(t={type:"TOGGLE_LOADING"}),e.next=4,N().then((function(e){return m(e)}));case 4:n=e.sent,r(n),r(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,t.length?a.a.createElement(G,null):a.a.createElement("button",{type:"button",onClick:c,disabled:n},"Load data"))})),L=n(13),_=(n(35),Object(u.b)((function(e){return{todos:b(e)}}))((function(e){var t=e.todo,n=t.completed,r=t.title,c=t.user;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:n?"done":"undone"}),a.a.createElement("p",{className:"task"},r),a.a.createElement("p",{className:"person"},c.name))}))),I=Object(u.b)((function(e){return{todos:b(e),filterType:E(e)}}))((function(e){var t=e.todos,n=function(e,t){switch(e){case"Sort by title":return Object(L.a)(t).sort((function(e,t){return e.title.localeCompare(t.title)}));case"Sort by completed":return Object(L.a)(t).sort((function(e,t){return Number(t.completed)-Number(e.completed)}));case"Sort by name":return Object(L.a)(t).sort((function(e,t){return e.user.name.localeCompare(t.user.name)}));default:return t}}(e.filterType,t);return a.a.createElement("ul",{className:"list"},n.map((function(e){return a.a.createElement("li",{key:e.id,className:"listItem"},a.a.createElement(_,{todo:e}))})))})),D=function(){var e=Object(u.d)(O);return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Redux list of todos"),a.a.createElement("h2",{className:"loading"},e&&"Loading..."),a.a.createElement(w,null),a.a.createElement(I,null))},F=function(){return a.a.createElement(u.a,{store:j},a.a.createElement(l.a,null,a.a.createElement(D,null)))};o.a.render(a.a.createElement(F,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.b9af6e48.chunk.js.map